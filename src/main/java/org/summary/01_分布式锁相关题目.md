# 分布式锁相关题目

## distributedlock.md

**1.Redis分布式锁的8大问题**

(1)非原子操作(set+lua)

(2)忘了释放锁(手动+超时)

(3)释放了其他线程的锁(lua+唯一值)

(4)加锁失败的处理(自旋+睡眠)

(5)锁重入问题(key是锁名+field是请求ID+值加1)

(6)锁竞争问题(读写锁+分段锁)

(7)锁超时失效或锁提前过期问题(自动续期)

(8)主从复制问题(RedLock算法)

**2.Redis的RedLock算法分析**

(1)RedLock算法的两个前提

(2)RedLock算法的具体流程

(3)RedLock算法为什么要这么做

(4)分布式专家Martin对于RedLock的质疑

**3.基于Redis和zk的分布式锁实现原理**

**4.Redis分布式锁的问题**

## distributedlock_2.md

**1.可重入锁源码之lua脚本加锁逻辑**

**2.可重入锁源码之WatchDog维持加锁逻辑**

**3.可重入锁源码之可重入加锁逻辑**

**4.可重入锁源码之锁的互斥阻塞逻辑**

**5.可重入锁源码之释放锁逻辑**

**6.可重入锁源码之获取锁超时与锁超时自动释放逻辑**

**7.可重入锁源码总结**

**8.公平锁源码之加锁和排队**

**9.公平锁源码之可重入加锁**

**10.公平锁源码之队列重排**

**11.公平锁源码之释放锁**

**12.公平锁源码之按顺序依次加锁**

## distributedlock_3.md

**1.读锁RedissonReadLock的获取读锁逻辑**

**2.写锁RedissonWriteLock的获取写锁逻辑**

**3.读锁RedissonReadLock的读读不互斥逻辑**

**4.RedissonReadLock和RedissonWriteLock的读写互斥逻辑**

**5.写锁RedissonWriteLock的写写互斥逻辑**

**6.写锁RedissonWriteLock的可重入逻辑**

**7.读锁RedissonReadLock的释放读锁逻辑**

**8.写锁RedissonWriteLock的释放写锁逻辑**

**9.Redisson联锁MultiLock的加锁与释放锁**

**10.Redisson红锁RedLock的源码实现**

**11.Curator的可重入锁的实现逻辑**

**12.Curator的非可重入锁的实现逻辑**

**13.Curator的可重入读写锁的实现逻辑**

